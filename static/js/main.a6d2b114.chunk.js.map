{"version":3,"sources":["context.js","item.js","listComponent.js","index.js","App.js"],"names":["createContext","ItemComponent","props","value","ref","useRef","registerSelectedItem","useContext","Context","useEffect","current","react_default","a","createElement","className","style","display","alignContent","alignItems","justifyContent","height","width","backgroundColor","margin","week","ListComponent","map","item","i","key","rootElement","document","getElementById","ReactDOM","render","refContainer","_useState","useState","_useState2","Object","slicedToArray","isSelecting","setSelecting","_useState3","_useState4","selectedItems","setItems","_useState5","_useState6","typedItems","setTypedItems","_useState7","x1","x2","y1","y2","_useState8","boundBox","setBoundBox","useCallback","oldItems","find","el","concat","toConsumableArray","registerSelected","_ref","setBoundsValue","_ref2","old","updateBoundBox","_ref3","smallerX","Math","min","largerX","max","smallerY","largerY","isNaN","left","top","onMouseUp","ev","stopPropagation","onMouseMove","target","objectSpread2","clientX","clientY","found","onMouseDown","rest","objectWithoutProperties","window","onmouseup","onmousemove","padding","context","Provider","fontSize","fontWeight","cursor"],"mappings":"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","file":"static/js/main.a6d2b114.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport default createContext();\n","import React, { useEffect, useRef, useContext } from \"react\";\nimport \"./styles.css\";\nimport Context from \"./context\";\n\nexport default function ItemComponent(props) {\n  const { value } = props;\n  const ref = useRef(\"item\");\n  const { registerSelectedItem } = useContext(Context);\n\n  useEffect(() => {\n    if (ref.current) {\n      registerSelectedItem(ref, props)\n    }\n  }, [ref, registerSelectedItem, props]);\n\n  return (\n    <div className=\"item\" ref={ref} style={{ display: 'flex', alignContent: 'center', alignItems: 'center', justifyContent: 'center', height: '100px', width: '10%', backgroundColor: '#7080A0', margin: '1rem'}}>\n      {value}\n    </div>\n  );\n}\n","import React from \"react\";\nimport Item from \"./item\";\nconst week = [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sabado\"];\n\nexport default function ListComponent() {\n  return (\n    <div className=\"container\">\n      {week.map((item, i) => (\n        <Item value={item} key={i} />\n      ))}\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n","import React, { useState, useRef, useCallback, useEffect } from \"react\";\nimport \"./styles.css\";\nimport List from \"./listComponent\";\n// import WithRef from \"./WithRef\";\nimport Context from \"./context\";\nexport default function App() {\n  const ref = useRef();\n  const refContainer = useRef();\n  const [isSelecting, setSelecting] = useState(false)\n  const [selectedItems, setItems] = useState([]);\n  const [typedItems, setTypedItems] = useState([]);\n  const [boundBox, setBoundBox] = useState({x1: 0, x2: 0, y1: 0, y2: 0 })\n  const registerSelectedItem = useCallback((ref, props) => {\n    setTypedItems(oldItems => !oldItems.find(el => el.ref.current === ref.current) ? [...oldItems, {ref, props}] : oldItems)\n  }, []);\n\n  const registerSelected = useCallback(({ref, props}) => {\n    setItems(oldItems => !oldItems.find(el => el.ref.current === ref.current) ? [...oldItems, {ref, props}] : oldItems);\n  }, []);\n\n  const setBoundsValue = useCallback(({ x1, x2, y1, y2 }) => {\n    setBoundBox(old => {\n      old.x1 = x1\n      old.x2 = x2\n      old.y1 = y1\n      old.y2 = y2\n      return old\n    })\n  }, [])\n\n  const updateBoundBox = useCallback(({ x1, x2, y1, y2 }) => {\n    const smallerX = Math.min(x1, x2)\n    const largerX = Math.max(x1, x2)\n    const smallerY = Math.min(y1, y2)\n    const largerY = Math.max(y1, y2)\n    if (isNaN(smallerX)|| isNaN(smallerY)) return\n    if (ref.current && smallerX && smallerY) {\n      ref.current.style.width = `${largerX - smallerX}px`\n      ref.current.style.height = `${largerY - smallerY}px`\n      ref.current.style.left = `${smallerX}px`\n      ref.current.style.top = `${smallerY}px`\n    }\n    setBoundsValue({ x1, x2, y1, y2 })\n  }, [setBoundsValue])\n\n  const onMouseUp = useCallback(ev => {\n    ev.stopPropagation();\n    setSelecting(false)\n    // setItems([])\n    if (ref.current) {\n      ref.current.style.width = '0px'\n      ref.current.style.height = '0px'\n      ref.current.style.left = '0px'\n      ref.current.style.top = '0px'\n    }\n    setBoundsValue({ x1: 0, x2: 0, y1: 0, y2: 0 })\n  }, [setBoundsValue])\n\n  const onMouseMove = useCallback((ev) => {\n    const { target } = ev\n    ev.stopPropagation();\n    if (isSelecting) {\n      updateBoundBox({...boundBox, x2: ev.clientX, y2: ev.clientY})\n      const found = typedItems.find(el => el.ref.current === target);\n      if (found) {\n        registerSelected({ ref: found.ref, props: found.props });\n      }\n    }\n  }, [isSelecting, updateBoundBox, registerSelected, boundBox, typedItems])\n\n  const onMouseDown = useCallback(ev => {\n    const { target, ...rest } = ev\n    setItems([])\n    ev.stopPropagation();\n    setSelecting(true)\n    const found = typedItems.find(el => el.ref.current === target);\n    if (found) registerSelected({ ref: found.ref, props: found.props });\n    updateBoundBox({ ...boundBox, x1: rest.clientX, y1: rest.clientY })\n  }, [updateBoundBox, registerSelected, boundBox, typedItems])\n\n  useEffect(() => {\n    // in case the event ends outside the box\n    window.onmouseup = onMouseUp;\n    window.onmousemove = onMouseMove;\n  }, [onMouseUp, onMouseMove]);\n\n  return (\n    <div className=\"App\">\n      <h1>Select area component</h1>\n      <h4>Mouse over each item to select it</h4>\n      <div\n        ref={refContainer}\n        className=\"selectable-group\"\n        onMouseDown={onMouseDown}\n        onMouseMove={onMouseMove}\n        onMouseUp={onMouseUp}\n        style={{\n          height: 400,\n          backgroundColor: '#f5f5f5',\n          padding: '1rem'\n        }}\n      >\n        <Context.Provider value={{ registerSelectedItem }}>\n          <List />\n        </Context.Provider>\n      </div>\n      <div>\n        <span style={{fontSize: 18}}>Item selecionados: </span>\n        {!isSelecting && selectedItems.map((el, i) => (\n          <span key={i} style={{ fontSize: 16, fontWeight: 'bold', margin: '2rem'}}>{el.props.value}</span>\n        ))}\n      </div>\n\n      <div ref={ref} className=\"selector\" style={{ cursor: 'default' }}/>\n    </div>\n  );\n}\n"],"sourceRoot":""}
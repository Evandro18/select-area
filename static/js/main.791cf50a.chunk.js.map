{"version":3,"sources":["context.js","item.js","listComponent.js","index.js","App.js"],"names":["createContext","ItemComponent","props","value","ref","useRef","registerSelectedItem","useContext","Context","useEffect","current","react_default","a","createElement","className","style","display","alignContent","alignItems","justifyContent","height","width","backgroundColor","margin","week","ListComponent","map","item","i","key","rootElement","document","getElementById","ReactDOM","render","refContainer","_useState","useState","_useState2","Object","slicedToArray","isSelecting","setSelecting","_useState3","_useState4","selectingItems","setItems","_useState5","_useState6","typedItems","setTypedItems","_useState7","x1","x2","y1","y2","_useState8","boundBox","setBoundBox","useCallback","oldItems","find","el","concat","toConsumableArray","registerSelected","_ref","registerSelectedMultiple","list","setBoundsValue","_ref2","old","updateBoundBox","_ref3","smallerX","Math","min","largerX","max","smallerY","largerY","isNaN","left","top","doObjectCollide","_ref4","offsetTop","offsetLeft","offsetWidth","offsetHeight","items","filter","_ref$current","itemTop","itemLeft","itemWidth","onMouseUp","ev","stopPropagation","onMouseMove","objectSpread2","clientX","clientY","onMouseDown","target","rest","objectWithoutProperties","window","onmouseup","onmousemove","clxs","padding","context","Provider","fontSize","fontWeight","cursor"],"mappings":"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","file":"static/js/main.791cf50a.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport default createContext();\n","import React, { useEffect, useRef, useContext } from \"react\";\nimport \"./styles.css\";\nimport Context from \"./context\";\n\nexport default function ItemComponent(props) {\n  const { value } = props;\n  const ref = useRef(\"item\");\n  const { registerSelectedItem } = useContext(Context);\n\n  useEffect(() => {\n    if (ref.current) {\n      registerSelectedItem(ref, props)\n    }\n  }, [ref, registerSelectedItem, props]);\n\n  return (\n    <div className=\"item\" ref={ref} style={{ display: 'flex', alignContent: 'center', alignItems: 'center', justifyContent: 'center', height: '100px', width: '10%', backgroundColor: '#7080A0', margin: '1rem'}}>\n      {value}\n    </div>\n  );\n}\n","import React from \"react\";\nimport Item from \"./item\";\nconst week = [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sabado\"];\n\nexport default function ListComponent() {\n  return (\n    <div className=\"container\">\n      {week.map((item, i) => (\n        <Item value={item} key={i} />\n      ))}\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n","import React, { useState, useRef, useCallback, useEffect } from \"react\";\nimport \"./styles.css\";\nimport clxs from 'clsx'\nimport List from \"./listComponent\";\nimport Context from \"./context\";\nexport default function App() {\n  const ref = useRef();\n  const refContainer = useRef();\n  const [isSelecting, setSelecting] = useState(false)\n  const [selectingItems, setItems] = useState([]);\n  const [typedItems, setTypedItems] = useState([]);\n  const [boundBox, setBoundBox] = useState({x1: 0, x2: 0, y1: 0, y2: 0 })\n  const registerSelectedItem = useCallback((ref, props) => {\n    setTypedItems(oldItems => !oldItems.find(el => el.ref.current === ref.current) ? [...oldItems, {ref, props}] : oldItems)\n  }, []);\n\n  const registerSelected = useCallback(({ref, props}) => {\n    setItems(oldItems => !oldItems.find(el => el.ref.current === ref.current) ? [...oldItems, {ref, props}] : oldItems);\n  }, []);\n\n  const registerSelectedMultiple = useCallback((list) => {\n    setItems(list);\n  }, []);\n\n  const setBoundsValue = useCallback(({ x1, x2, y1, y2 }) => {\n    setBoundBox(old => {\n      old.x1 = x1\n      old.x2 = x2\n      old.y1 = y1\n      old.y2 = y2\n      return old\n    })\n  }, [])\n\n  const updateBoundBox = useCallback(({ x1, x2, y1, y2 }) => {\n    const smallerX = Math.min(x1, x2)\n    const largerX = Math.max(x1, x2)\n    const smallerY = Math.min(y1, y2)\n    const largerY = Math.max(y1, y2)\n    if (isNaN(smallerX)|| isNaN(smallerY)) return\n    if (ref.current && smallerX && smallerY) {\n      ref.current.style.width = `${largerX - smallerX}px`\n      ref.current.style.height = `${largerY - smallerY}px`\n      ref.current.style.left = `${smallerX}px`\n      ref.current.style.top = `${smallerY}px`\n    }\n    setBoundsValue({ x1, x2, y1, y2 })\n  }, [setBoundsValue])\n\n  const doObjectCollide = () => {\n    const { offsetTop: top, offsetLeft: left, offsetWidth: width, offsetHeight: height } = ref.current && ref.current\n    const items = typedItems.filter(item => {\n      if (!item || !item.ref || !item.ref.current) return false\n      const { ref } = item\n      const { offsetTop: itemTop, offsetLeft: itemLeft, offsetWidth: itemWidth, offsetHeight: itemHeigth } = ref.current\n      if (itemLeft < left + width &&\n        itemLeft + itemWidth > left &&\n        itemTop < top + height &&\n        top + height > itemTop){\n          return true\n        }\n        return false\n    })\n    registerSelectedMultiple(items)\n  }\n\n  const onMouseUp = useCallback(ev => {\n    ev.stopPropagation();\n    setSelecting(false)\n    if (ref.current) {\n      ref.current.style.width = '0px'\n      ref.current.style.height = '0px'\n      ref.current.style.left = '0px'\n      ref.current.style.top = '0px'\n    }\n    setBoundsValue({ x1: 0, x2: 0, y1: 0, y2: 0 })\n  }, [setBoundsValue])\n\n  const onMouseMove = useCallback((ev) => {\n    ev.stopPropagation();\n    if (isSelecting) {\n      doObjectCollide()\n      updateBoundBox({...boundBox, x2: ev.clientX, y2: ev.clientY})\n    }\n  }, [isSelecting, updateBoundBox, registerSelected, boundBox, typedItems])\n\n  const onMouseDown = useCallback(ev => {\n    const { target, ...rest } = ev\n    setItems([])\n    ev.stopPropagation();\n    setSelecting(true)\n    doObjectCollide()\n    updateBoundBox({ ...boundBox, x1: rest.clientX, y1: rest.clientY })\n  }, [updateBoundBox, registerSelected, boundBox, typedItems])\n\n  useEffect(() => {\n    // in case the event ends outside the box\n    window.onmouseup = onMouseUp;\n    window.onmousemove = onMouseMove;\n  }, [onMouseUp, onMouseMove]);\n\n  return (\n    <div className={clxs('App', 'noselect')}>\n      <h1>Select area component</h1>\n      <div\n        ref={refContainer}\n        className=\"selectable-group\"\n        onMouseDown={onMouseDown}\n        onMouseMove={onMouseMove}\n        onMouseUp={onMouseUp}\n        style={{\n          height: 400,\n          backgroundColor: '#f5f5f5',\n          padding: '1rem'\n        }}\n      >\n        <Context.Provider value={{ registerSelectedItem }}>\n          <List />\n        </Context.Provider>\n      </div>\n      <div>\n        <span style={{fontSize: 18}}>Item selecionados: </span>\n        {selectingItems && selectingItems.map((el, i) => (\n          <span key={i} style={{ fontSize: 16, fontWeight: 'bold', margin: '2rem'}}>{el.props.value}</span>\n        ))}\n      </div>\n\n      <div ref={ref} className={clxs('selector', 'noselect')} style={{ cursor: 'default' }}/>\n    </div>\n  );\n}\n"],"sourceRoot":""}